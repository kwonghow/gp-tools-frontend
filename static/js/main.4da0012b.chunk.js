(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return c});var n=a(11),l=a.n(n),r=function(e){return e.toString().replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function c(t,a,n){var c=new Date(a),o=Math.round(c.getTime()/1e3),m="".concat(o.toString()).concat(t),s=l.a.enc.Base64.stringify(l.a.HmacSHA256(m,n)),u={time_since_epoch:o,sig:r(s)},i=JSON.stringify(u);return{message:m,payload:u,popSignature:r(e.from(i).toString("base64"))}}}).call(this,a(71).Buffer)},37:function(e,t,a){e.exports=a(79)},42:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),c=a.n(r),o=(a(42),a(20)),m=a(10),s=a(4),u=a(36),i=a(15),d=a(19),p=a(8),b=a(32),E=a.n(b),h=a(11),f=a.n(h);var g=function(){var e=Object(s.c)({contentType:s.b,headerDate:s.b,method:s.b,partnerSecret:s.b,requestBody:s.b,requestUrl:s.b}),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({hashedPayload:"",hmacDigest:"",requestData:""}),o=Object(p.a)(c,2),m=o[0],b=o[1],h=Object(n.useState)([]),g=Object(p.a)(h,2),v=g[0],y=g[1],N=Object(n.useState)(!1),S=Object(p.a)(N,2),C=S[0],O=S[1];Object(n.useEffect)(function(){r({contentType:a.contentType||"application/json",headerDate:a.headerDate||(new Date).toUTCString(),method:a.method||"POST",partnerSecret:a.partnerSecret||"",requestBody:a.requestBody||'{"foo":"bar","baz":"lol","kek":168}',requestUrl:a.requestUrl||"/relative-path"})},[]);var T=Object(n.useCallback)(function(){a.partnerSecret&&(y([]),b(function(e,t,a,n,l,r){"GET"!==e&&l||(l="");var c=l?f.a.enc.Base64.stringify(f.a.SHA256(l)):"",o=[[e,t,a,n,c].join("\n"),"\n"].join("");return{hashedPayload:c,requestData:o,hmacDigest:f.a.enc.Base64.stringify(f.a.HmacSHA256(o,r))}}(a.method,a.contentType,a.headerDate,a.requestUrl,a.requestBody,a.partnerSecret)))},[a]);Object(n.useEffect)(function(){T()},[T,a]);var k=function(e){var t=Object(d.a)({},a,Object(i.a)({},e.target.name,e.target.value));r(t)},j="\ncurl -X '".concat(a.method,"' '<HOST>").concat(a.requestUrl,"' \\\n  -H 'Authorization: <PARTNER_ID>:").concat(m.hmacDigest,"' \\\n  -H 'Content-Type: ").concat(a.contentType,"' \\\n  -H 'Date: ").concat(a.headerDate,"' \\\n  -d '").concat("GET"===a.method?"":a.requestBody,"'\n");return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"HMAC Calculator"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"partner-secret"},"Secret"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",id:"partner-secret",name:"partnerSecret",onChange:k,required:!0,type:"text",value:a.partnerSecret}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"method"},"Method"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("select",{className:"custom-select",id:"method",name:"method",onChange:k,value:a.method},l.a.createElement("option",{value:"POST"},"POST"),l.a.createElement("option",{value:"GET"},"GET"),l.a.createElement("option",{value:"PUT"},"PUT")))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"content-type"},"Header Content Type"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",id:"content-type",name:"contentType",onChange:k,type:"text",value:a.contentType}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"header-date"},"Header Date"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",id:"header-date",name:"headerDate",onChange:k,type:"text",value:a.headerDate}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"request-url"},"Request URL"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",id:"request-url",name:"requestUrl",onChange:k,type:"text",placeholder:"/relative-path",value:a.requestUrl}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"request-body"},"Request Body",l.a.createElement("br",null),"(JSON stringified)"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("textarea",{className:"form-control monospace",id:"request-body",name:"requestBody",onChange:k,rows:3,value:a.requestBody}))),l.a.createElement("button",{className:"btn btn-primary",id:"submit-btn",onClick:function(e){e.preventDefault(),a.partnerSecret?T():y([].concat(Object(u.a)(v),["Please enter secret."]))},type:"button"},"Calculate HMAC"),v.map(function(e){return l.a.createElement("div",{className:"error"},e)}),l.a.createElement("hr",null),l.a.createElement("h3",null,"Result"),l.a.createElement("pre",null,l.a.createElement("code",null,"HMAC:"," ",m.hmacDigest&&l.a.createElement("span",{className:"break-word-container result"},m.hmacDigest)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("code",null,"Hashed payload:"," ","GET"===a.method?"N/A":m.hashedPayload),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("code",null,"Request data:",l.a.createElement("br",null),m.requestData)),l.a.createElement("h3",null,"CURL"," ",l.a.createElement(E.a,{onCopy:function(){O(!0),setTimeout(function(){O(!1)},2e3)},text:j},l.a.createElement("button",{className:"btn btn-link",onClick:function(e){return e.preventDefault()}},C?"Copied!":"Copy to clipboard"))),l.a.createElement("pre",null,l.a.createElement("code",{dangerouslySetInnerHTML:{__html:j.replace(/</g,"&lt;").replace(/>/g,"&gt;")}}))))},v=a(33),y=function(){var e=Object(s.c)({accessToken:s.b,date:s.b,clientSecret:s.b}),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({message:"",payload:{sig:"",time_since_epoch:0},popSignature:""}),o=Object(p.a)(c,2),m=o[0],u=o[1],b=Object(n.useState)([]),E=Object(p.a)(b,2),h=E[0],f=E[1];Object(n.useEffect)(function(){r({accessToken:a.accessToken||"",clientSecret:a.clientSecret||"",date:a.date||(new Date).toUTCString()})},[]);var g=Object(n.useCallback)(function(){var e=[];return[{key:"clientSecret",label:"Secret"},{key:"accessToken",label:"Access Token"}].forEach(function(t){var n=t.key,l=t.label;a[n]||e.push("Please enter ".concat(l,"."))}),e},[a]),y=Object(n.useCallback)(function(){var e=g();h.length&&f(e),e.length||u(Object(v.a)(a.accessToken,a.date,a.clientSecret))},[h,a,g]);Object(n.useEffect)(function(){y()},[y,a]);var N=function(e){var t=Object(d.a)({},a,Object(i.a)({},e.target.name,e.target.value));r(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"POP Signature Calculator"),l.a.createElement("form",null,l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"client-secret"},"Client Secret"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",id:"client-secret",name:"clientSecret",onChange:N,required:!0,type:"text",value:a.clientSecret}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"date"},"Header Date"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("input",{className:"form-control",id:"date",name:"date",onChange:N,type:"text",value:a.date}))),l.a.createElement("div",{className:"form-group row"},l.a.createElement("label",{className:"col-form-label col-sm-4",htmlFor:"access-token"},"Access Token"),l.a.createElement("div",{className:"col-sm-8"},l.a.createElement("textarea",{className:"form-control monospace",id:"access-token",name:"accessToken",onChange:N,rows:13,value:a.accessToken}))),l.a.createElement("button",{className:"btn btn-primary",id:"submit-btn",onClick:function(e){e.preventDefault();var t=g();t?f(t):y()},type:"button"},"Calculate HMAC"),h.map(function(e){return l.a.createElement("div",{className:"error",key:e},e)}),l.a.createElement("hr",null),l.a.createElement("h3",null,"Result"),l.a.createElement("pre",null,l.a.createElement("code",null,"Signature:",l.a.createElement("br",null),m.popSignature&&l.a.createElement("span",{className:"break-word-container result"},m.popSignature)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("code",null,"Message:",l.a.createElement("br",null),m.message&&l.a.createElement("span",{className:"break-word-container"},m.message)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("code",null,"time_since_epoch:"," ",m.payload?m.payload.time_since_epoch:""),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("code",null,"sig: ",m.payload?m.payload.sig:""))))},N=function(){return l.a.createElement(o.a,{basename:"/gp-tools-frontend"},l.a.createElement(s.a,{ReactRouterRoute:m.b},l.a.createElement(o.b,{to:"/hmac"},"HMAC Calculator")," |"," ",l.a.createElement(o.b,{to:"/pop-signature"},"POP Signature Calculator"),l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/hmac",component:g}),l.a.createElement(m.b,{path:"/pop-signature",component:y}),l.a.createElement(m.a,{to:"/hmac"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.4da0012b.chunk.js.map